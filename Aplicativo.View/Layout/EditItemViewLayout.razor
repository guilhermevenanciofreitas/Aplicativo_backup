@typeparam TValue

@inherits EditItemViewLayoutPage<TValue>

<style>
    .fab-button {
        right: 16px;
        bottom: 16px;
        position: fixed;
    }
</style>

<ViewModal @ref="ViewModal" FullScreen="true" Title="@Title" Width="@Width">

    @if (HelpParametros.Template == Template.Mobile)
    {
        <AppBar Style="position: relative;">
            <Toolbar>
                <IconButton Edge="@IconButtonEdge.Start" Color="@Color.Inherit" OnClick="ViewModal.Hide" aria-label="close">
                    <CloseIcon />
                </IconButton>
                <Typography Variant="@TypographyVariant.H6" Style="flex: 1; margin-left: 16px;">
                    @Title
                </Typography>
                <Button Color="@Color.Inherit" OnClick="@BtnSalvar_Click">
                    save
                </Button>
                @if (ItemViewMode == ItemViewMode.Edit)
                {
                    <Button Color="@Color.Inherit" OnClick="@BtnExcluir_Click">
                        delete
                    </Button>
                }

                <IconButton Color="@Color.Inherit" OnClick="@ItemViewButtonOpen_Show" RootRef="@ItemViewOpenButtonRef">
                    <MoreVertIcon />
                </IconButton>
               
                <Skclusive.Material.Menu.Menu Open="@ItemViewButtonOpen" AnchorRef="@ItemViewOpenButtonRef" OnClose="@ItemViewOpen_Close">
                    @if (!Simples)
                    {
                        <MenuItem OnClick="@(() => { ItemViewOpen_Close(null); BtnLimpar_Click(); })">
                            Limpar
                        </MenuItem>
                    }
                    @if (ItemViewMode == ItemViewMode.Edit)
                    {
                        @foreach (var item in ItemViewButtons)
                        {
                            <MenuItem OnClick="@(() => { ItemViewOpen_Close(null); item.OnClick(); })">
                                @item.Label
                            </MenuItem>
                        }
                    }
                </Skclusive.Material.Menu.Menu>
             
            </Toolbar>
        </AppBar>

        @View

    }
    else
    {
        <div class="box-header with-border">

            @if (!Simples)
            {
                <Button Variant="@ButtonVariant.Contained" OnClick="BtnLimpar_Click">
                    <StartIcon>
                        <FileCopyIcon />
                    </StartIcon>
                    <ChildContent>
                        Limpar
                    </ChildContent>
                </Button>
            }

            <Button Variant="@ButtonVariant.Contained" Style="color: #fff; background-color: #5cb85c; width: 110px" OnClick="BtnSalvar_Click">
                <StartIcon>
                    <SaveIcon />
                </StartIcon>
                <ChildContent>
                    Salvar
                </ChildContent>
            </Button>
            @if (ItemViewMode == ItemViewMode.Edit)
            {
                <Button Variant="@ButtonVariant.Contained" OnClick="BtnExcluir_Click" Style="color: #fff; background-color: #df4759; width: 110px">
                    <StartIcon>
                        <DeleteIcon />
                    </StartIcon>
                    <ChildContent>
                        Excluir
                    </ChildContent>
                </Button>
            }

            @if (ItemViewMode == ItemViewMode.Edit)
            {
                @foreach (var item in ItemViewButtons)
                {
                    <Button Variant="@ButtonVariant.Contained" OnClick="@item.OnClick">
                        @*<StartIcon>
                                @item.Icon
                            </StartIcon>*@
                        <ChildContent>
                            @item.Label
                        </ChildContent>
                    </Button>
                }
            }

        </div>

        <br />
        <Divider />

        <div style="margin-top: 20px">
            @View
        </div>

    }



</ViewModal>