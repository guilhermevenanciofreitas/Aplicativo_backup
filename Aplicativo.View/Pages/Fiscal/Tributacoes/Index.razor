@attribute [Page("Fiscal/Tributacoes")]
@attribute [LoginRequired(true)]

@inherits IndexPage;

<ComponentLayout OnLoad="Page_Load">
    <ListItemViewLayout @ref="ListView" Type="Tributacao" Title="Tributações">

        <ViewPages>
            <ViewTributacao @ref="View" ListView="ListView" />
        </ViewPages>

        <BtnNovo>
            <ListViewBtnNovo @ref="ListView.ListViewBtnNovo" ListItemViewLayout="ListView" OnClick="BtnItemView_Click" />
        </BtnNovo>

        <BtnFiltro>
            <ListViewBtnFiltro ViewFiltro="ListView.ViewFiltro">
                <ViewFiltro @ref="ListView.ViewFiltro" OnConfirmar="BtnPesquisar_Click" />
            </ListViewBtnFiltro>
        </BtnFiltro>

        <BtnPesquisa>
            <ListViewBtnPesquisa @ref="ListView.ListViewBtnPesquisa" ViewFiltro="ListView.ViewFiltro" OnClick="BtnPesquisar_Click" />
        </BtnPesquisa>

        <BtnExcluir>
            <ListViewBtnExcluir @ref="ListView.ListViewBtnExcluir" ListItemViewLayout="ListView" OnClick="BtnExcluir_Click" />
        </BtnExcluir>

        <GridView>
            <ListViewGridView @ref="ListView.ListViewGridView" Type="Tributacao" OnItemView="BtnItemView_Click" AllowGrouping="false" OnDataChange="StateHasChanged">
                <ItemView>
                    @{
                        var item = (Tributacao)context;

                        <ListItemText Primary="@item.TributacaoID.ToString()">
                            <SecondaryContent>
                                <Typography Component="span" Variant="@TypographyVariant.Body2" Color="@Color.TextPrimary" Style="display: inline;">
                                    @item.TributacaoID
                                </Typography>
                                — I'll be in your neighborhood
                            </SecondaryContent>
                        </ListItemText>
                    }
                </ItemView>
                <Columns>
                    <GridColumn Field="TributacaoID" HeaderText="Código" Width="100" />
                    <GridColumn Field="Descricao" HeaderText="Descrição" Width="210" />
                    <GridColumn Field="ICMS" HeaderText="ICMS" Width="280" />
                    @*<GridColumn Field="CSOSN" HeaderText="CSOSN" Width="100" />*@
                    <GridColumn Field="IPI" HeaderText="IPI" Width="220" />
                    <GridColumn Field="PIS" HeaderText="PIS" Width="220" />
                    <GridColumn Field="COFINS" HeaderText="COFINS" Width="220" />
                </Columns>
            </ListViewGridView>
        </GridView>
    </ListItemViewLayout>
</ComponentLayout>