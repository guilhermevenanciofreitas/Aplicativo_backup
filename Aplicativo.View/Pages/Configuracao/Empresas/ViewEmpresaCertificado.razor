@inherits ViewEmpresaCertificadoPage

<ComponentLayout>
    <ListItemViewLayout @ref="ListView" Type="EmpresaCertificado">

        <BtnNovo>
            <ListViewBtnNovo @ref="ListView.ListViewBtnNovo" ListItemViewLayout="ListView" Text="Adicionar" OnClick="ViewLayout_ItemView" />
        </BtnNovo>

        <BtnExcluir>
            <ListViewBtnExcluir @ref="ListView.ListViewBtnExcluir" ListItemViewLayout="ListView" OnClick="ListViewBtnExcluir_Click" />
        </BtnExcluir>

        <ViewPages>
            <EditItemViewLayout @ref="EditItemViewLayout" Title="Certificado" Width="650px" Top="100px">

                <BtnSalvar>
                    <ViewPageBtnSalvar ListItemViewLayout="ListView" OnClick="ViewPageBtnSalvar_Click" />
                </BtnSalvar>

                <BtnExcluir>
                    <ViewPageBtnExcluir ListItemViewLayout="ListView" OnClick="ViewPageBtnExcluir_Click" />
                </BtnExcluir>

                <View>

                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <Options @ref="OptTipo" _Name="Tipo" OnChange="StateHasChanged">
                                <Option Label="Certificado A1" Value="1" />
                                <!--<Option Label="Certificado A3" Value="2" />-->
                            </Options>
                        </div>
                    </div>

                    <br />

                    <div class="row">
                        <div class="col-md-12 col-sm-12">

                            <FileDialog @ref="FileDialog" />

                            <ViewModal @ref="ViewModalCertificado" Overlay="true" Title="Senha" Width="300px" Top="150px">
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <TextBox @ref="TxtPassword" _Label="Senha" _CharacterCasing="CharacterCasing.None" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12">
                                        <Button Variant="@ButtonVariant.Contained" OnClick="BtnConfirmar_Click" Style=@("color: #fff; background-color: #5cb85c; width: 160px")>
                                            <StartIcon>
                                                <CheckIcon />
                                            </StartIcon>
                                            <ChildContent>
                                                Confirmar
                                            </ChildContent>
                                        </Button>
                                    </div>
                                </div>
                            </ViewModal>

                            <div class="input-group">
                                <button type="button" class="btn btn-outline-secondary" @onclick="OpenFileDialog">Selecionar arquivo</button>
                                <TextBox @ref="TxtCertificado" _CharacterCasing="CharacterCasing.None" _ReadOnly="true" />
                            </div>

                            

                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <TextBox @ref="TxtNome" _Label="Nome" _ReadOnly="true" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-5 col-sm-12">
                            <TextBox @ref="TxtSerial" _Label="Serial" _ReadOnly="true" />
                        </div>
                        <div class="col-md-3 col-sm-12">
                            <TextBox @ref="TxtExpira" _Label="Expira" _ReadOnly="true" />
                        </div>
                    </div>


                </View>
            </EditItemViewLayout>
        </ViewPages>

        <GridView>
            <ListViewGridView @ref="ListView.ListViewGridView" Type="EmpresaCertificado" Height="400px" OnItemView="ViewLayout_ItemView" OnDataChange="StateHasChanged">
                <ItemView>
                    @{
                        var item = (EmpresaCertificado)context;

                        @*<ListItemText Primary="@item.Email">
                            <SecondaryContent>
                                <Typography Component="span" Variant="@TypographyVariant.Body2" Color="@Color.TextPrimary" Style="display: inline;">
                                    @item.Email
                                </Typography>
                                — I'll be in your neighborhood
                            </SecondaryContent>
                        </ListItemText>*@
                    }
                </ItemView>
                <Columns>
                    <GridColumn Field="Certificado.Serial" HeaderText="Serial" Width="170" />
                    <GridColumn Field="Certificado.Nome" HeaderText="Nome" Width="600" />
                    <GridColumn Field="Certificado.Expira" HeaderText="Expira" Width="120" Format="dd/MM/yyyy" />
                </Columns>
            </ListViewGridView>
        </GridView>
    </ListItemViewLayout>
</ComponentLayout>