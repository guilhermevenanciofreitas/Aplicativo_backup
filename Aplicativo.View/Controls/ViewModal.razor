@inherits ViewModalControl

@if (HelpParametros.Template == Template.Mobile)
{
    <Dialog DisableEscapeKeyDown="false" FullScreen="@FullScreen" Open="@Open" OnClose="@Hide">
        @ChildContent
    </Dialog>
}
else
{

    <style>
        #overlay {
            position: fixed;
            display: none;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 2;
        }

        #overlay-container {
            position: absolute;
            transform: translate(-50%,-50%);
            -ms-transform: translate(-50%,-50%);
        }
    </style>

    <div id="overlay" style="display: @(Open && Overlay ? "block" : "none")">
        <div id="overlay-container">
            <Syncfusion.Blazor.Popups.SfDialog @bind-Visible="Open" IsModal="false" Width="@Width" CloseOnEscape="true" ShowCloseIcon="true" ZIndex="@ZIndex">

                <Syncfusion.Blazor.Popups.DialogTemplates>
                    <Header>
                        <font size="2"><b>@Title</b></font>
                    </Header>
                    <Content>
                        @ChildContent
                    </Content>
                </Syncfusion.Blazor.Popups.DialogTemplates>

                <Syncfusion.Blazor.Popups.DialogPositionData X="center" Y="top"></Syncfusion.Blazor.Popups.DialogPositionData>
                <Syncfusion.Blazor.Popups.DialogEvents Closed="@Hide" OnOverlayClick="@Hide"></Syncfusion.Blazor.Popups.DialogEvents>
                <Syncfusion.Blazor.Popups.DialogAnimationSettings Effect="@Syncfusion.Blazor.Popups.DialogEffect.Fade"></Syncfusion.Blazor.Popups.DialogAnimationSettings>

            </Syncfusion.Blazor.Popups.SfDialog>
        </div>
    </div>



    @*<div id="@DivModal.Id" class="modal fade" @ref="DivModal" style="z-index: 10000; @(MarginTop == null ? "" : "margin-top: " + MarginTop + ";")">
            <div class="modal-dialog" style="width:@Width">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" aria-label="Close" @onclick="Hide">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h3 class="modal-title">@Title</h3>

                        @Header

                    </div>

                    @if (ChildContent != null)
                    {
                        <div class="modal-body">
                            @ChildContent
                        </div>
                    }

                    @if (@Footer != null)
                    {
                        <div class="modal-footer">
                            @Footer
                        </div>
                    }

                </div>
            </div>
        </div>*@
}

@code{

    [Parameter] public string Id { get; set; }

    [Parameter] public string Width { get; set; }

    [Parameter] public string Height { get; set; }

    [Parameter] public string MarginTop { get; set; }

    [Parameter] public string Title { get; set; }

    [Parameter] public RenderFragment Header { get; set; }

    [Parameter] public RenderFragment Footer { get; set; }

}